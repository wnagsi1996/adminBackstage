(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-917b524a"],{2532:function(e,r,t){"use strict";var o=t("23e7"),a=t("5a34"),d=t("1d80"),s=t("ab13");o({target:"String",proto:!0,forced:!s("includes")},{includes:function(e){return!!~String(d(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"803a":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_1__);__webpack_exports__["a"]={name:"EditOrder",props:{orderno:{type:String,default:""}},data:function(){return{product:{keyword:"",keywordPage:"",imgurl:"",code:"",price:"",qa:"",feedback:"",reviewUrl:"",xdReamrk:"",remark:""},productRule:{keyword:[{required:!0,message:"请输入关键词",trigger:"blur"}],imgurl:[{required:!0,message:"请输入产品图片链接",trigger:"blur"},{pattern:/\.(png|jpg|gif|jpeg)$/,message:"图片格式不正确"}],keywordPage:[{required:!0,type:"number",message:"关键词行数必须为数字值"}],price:[{required:!0,message:"请输入产品客单价",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"请产品客单价必须为数字"}]},neworderno:"",btnLoading:!1,loading:!0}},mounted:function(){this.neworderno=this.orderno,this.getOrderInfo()},methods:{getOrderInfo:function(){var e=this;this.loading=!0,this.axios.get("/Handler/CPManageSystem.ashx?cmd=getCPOrderDetailInfo&orderno="+this.neworderno).then((function(r){""!=r.data?(e.product.imgurl=r.data.ProductImgUrl,e.product.keyword=r.data.KeyWord,e.product.keywordPage=r.data.KeyWordPage,e.product.code=r.data.CouponCode,e.product.price=r.data.productdj,e.product.qa=r.data.QA,e.product.feedback=r.data.FB,e.product.reviewUrl=r.data.HelpFulUrl,e.product.xdReamrk=r.data.xdyq,e.product.remark=r.data.remark,e.loading=!1):e.resetForm()})).catch((function(e){}))},submitForm:function submitForm(product,state){var _this2=this;this.$refs[product].validate((function(valid){return!!valid&&(""!=_this2.product.KeyWord&&(_this2.product.keyword.includes("“")||_this2.product.keyword.includes('"'))?(_this2.$message({type:"warning",message:"关键词不能用双引号"}),!1):(qa=""==_this2.product.qa?0:1,fb=""==_this2.product.feedback?0:1,_this2.btnLoading=!0,void _this2.axios.post("/Handler/CPManageSystem.ashx",_this2.qs.stringify({cmd:"editCPOrderDetail",orderno:_this2.neworderno,KeyWord:_this2.product.keyword,KeyWordPage:_this2.product.keywordPage,CouponCode:_this2.product.code,HelpFulUrl:_this2.product.reviewUrl,remark:_this2.product.remark,xdyq:_this2.product.xdReamrk,ProductImgUrl:_this2.product.imgurl,productdj:eval(_this2.product.price),ifQA:qa,ifFB:fb,QA:_this2.product.qa,FB:_this2.product.feedback,fd:state})).then((function(e){e.data.rescode>0?(_this2.$message({type:"success",message:e.data.resdesc}),_this2.resetForm(),_this2.$emit("dialogToggle")):_this2.$message({type:"warning",message:e.data.resdesc}),_this2.btnLoading=!1})).catch((function(e){}))));var qa,fb}))},resetForm:function(){this.$refs.product.resetFields()}},watch:{orderno:function(e,r){this.neworderno=e,this.getOrderInfo()}}}},"9af3":function(e,r,t){"use strict";t.r(r);var o=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],ref:"product",attrs:{model:e.product,rules:e.productRule,"label-width":"80px","label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[t("el-input",{model:{value:e.product.keyword,callback:function(r){e.$set(e.product,"keyword",r)},expression:"product.keyword"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"关键词大概在第几页",prop:"keywordPage"}},[t("el-input",{model:{value:e.product.keywordPage,callback:function(r){e.$set(e.product,"keywordPage",e._n(r))},expression:"product.keywordPage"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"产品主图",prop:"imgurl"}},[t("el-input",{model:{value:e.product.imgurl,callback:function(r){e.$set(e.product,"imgurl",r)},expression:"product.imgurl"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"折扣码",prop:"code"}},[t("el-input",{model:{value:e.product.code,callback:function(r){e.$set(e.product,"code",r)},expression:"product.code"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"客单价(单位:美金)",prop:"price"}},[t("el-input",{model:{value:e.product.price,callback:function(r){e.$set(e.product,"price",r)},expression:"product.price"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"QA提问",prop:"qa"}},[t("el-input",{model:{value:e.product.qa,callback:function(r){e.$set(e.product,"qa",r)},expression:"product.qa"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"Feedback",prop:"feedback"}},[t("el-input",{model:{value:e.product.feedback,callback:function(r){e.$set(e.product,"feedback",r)},expression:"product.feedback"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"点赞（评论URL）",prop:"reviewUrl"}},[t("el-input",{model:{value:e.product.reviewUrl,callback:function(r){e.$set(e.product,"reviewUrl",r)},expression:"product.reviewUrl"}})],1)],1),t("el-col",{attrs:{span:6}},[t("el-form-item",{attrs:{label:"下单要求",prop:"xdReamrk"}},[t("el-input",{model:{value:e.product.xdReamrk,callback:function(r){e.$set(e.product,"xdReamrk",r)},expression:"product.xdReamrk"}})],1)],1),t("el-col",{attrs:{span:8}},[t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.product.remark,callback:function(r){e.$set(e.product,"remark",r)},expression:"product.remark"}})],1)],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(r){return e.submitForm("product","1")}}},[e._v("放单")]),t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(r){return e.submitForm("product","0")}}},[e._v("暂存")])],1)],1)],1)],1)},a=[],d=t("803a"),s=d["a"],i=t("2877"),c=Object(i["a"])(s,o,a,!1,null,null,null);r["default"]=c.exports},caad:function(e,r,t){"use strict";var o=t("23e7"),a=t("4d64").includes,d=t("44d2"),s=t("ae40"),i=s("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!i},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),d("includes")}}]);
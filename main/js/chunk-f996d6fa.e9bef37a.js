(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-f996d6fa"],{1148:function(e,t,r){"use strict";var o=r("a691"),a=r("1d80");e.exports="".repeat||function(e){var t=String(a(this)),r="",s=o(e);if(s<0||s==1/0)throw RangeError("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(t+=t))1&s&&(r+=t);return r}},2532:function(e,t,r){"use strict";var o=r("23e7"),a=r("5a34"),s=r("1d80"),l=r("ab13");o({target:"String",proto:!0,forced:!l("includes")},{includes:function(e){return!!~String(s(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"408a":function(e,t,r){var o=r("c6b6");e.exports=function(e){if("number"!=typeof e&&"Number"!=o(e))throw TypeError("Incorrect invocation");return+e}},5408:function(e,t,r){"use strict";r.r(t);var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-form",{ref:"product",attrs:{model:e.product,rules:e.productRule,"label-width":"80px","label-position":"top"}},[r("el-row",{attrs:{gutter:20}},[r("el-col",{attrs:{span:24}},[r("el-form-item",{attrs:{label:"商品标题",prop:"title"}},[r("el-input",{model:{value:e.product.title,callback:function(t){e.$set(e.product,"title",t)},expression:"product.title"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"店铺名称",prop:"stornName"}},[r("el-input",{model:{value:e.product.stornName,callback:function(t){e.$set(e.product,"stornName",t)},expression:"product.stornName"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"品牌",prop:"brand"}},[r("el-input",{model:{value:e.product.brand,callback:function(t){e.$set(e.product,"brand",t)},expression:"product.brand"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"ASIN",prop:"asin"}},[r("el-input",{model:{value:e.product.asin,callback:function(t){e.$set(e.product,"asin",t)},expression:"product.asin"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品URL链接",prop:"url"}},[r("el-input",{model:{value:e.product.url,callback:function(t){e.$set(e.product,"url",t)},expression:"product.url"}})],1)],1),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"产品图片链接",prop:"imgUrl"}},[r("el-input",{model:{value:e.product.imgUrl,callback:function(t){e.$set(e.product,"imgUrl",t)},expression:"product.imgUrl"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"关键词",prop:"keyword"}},[r("el-input",{model:{value:e.product.keyword,callback:function(t){e.$set(e.product,"keyword",t)},expression:"product.keyword"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"关键词大概在第几页",prop:"keywordPage"}},[r("el-input",{model:{value:e.product.keywordPage,callback:function(t){e.$set(e.product,"keywordPage",e._n(t))},expression:"product.keywordPage"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"折扣码",prop:"code"}},[r("el-input",{model:{value:e.product.code,callback:function(t){e.$set(e.product,"code",t)},expression:"product.code"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"客单价(单位:美金)",prop:"price"}},[r("el-input",{model:{value:e.product.price,callback:function(t){e.$set(e.product,"price",t)},expression:"product.price"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"留评单数量",prop:"lpnum"}},[r("el-input",{on:{blur:e.total},model:{value:e.product.lpnum,callback:function(t){e.$set(e.product,"lpnum",e._n(t))},expression:"product.lpnum"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"免评单数量",prop:"mpnum"}},[r("el-input",{on:{blur:e.total},model:{value:e.product.mpnum,callback:function(t){e.$set(e.product,"mpnum",e._n(t))},expression:"product.mpnum"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"客单费加PP费（单位：美金)",prop:"pp"}},[r("el-input",{on:{blur:e.total},model:{value:e.product.pp,callback:function(t){e.$set(e.product,"pp",t)},expression:"product.pp"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"佣金(单位：人民币)",prop:"commission"}},[r("el-input",{on:{blur:e.total},model:{value:e.product.commission,callback:function(t){e.$set(e.product,"commission",t)},expression:"product.commission"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"应收款总金额(单位：人民币)",prop:"ytotalPrice"}},[r("el-input",{model:{value:e.product.ytotalPrice,callback:function(t){e.$set(e.product,"ytotalPrice",t)},expression:"product.ytotalPrice"}})],1)],1),0==e.newDataObj.state?[r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"实收款总金额(单位：人民币)",prop:"stotalPrice"}},[r("el-input",{model:{value:e.product.stotalPrice,callback:function(t){e.$set(e.product,"stotalPrice",t)},expression:"product.stotalPrice"}})],1)],1),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"支付选择",prop:"channel"}},[r("el-select",{attrs:{placeholder:"请选择支付选择"},model:{value:e.product.channel,callback:function(t){e.$set(e.product,"channel",t)},expression:"product.channel"}},[r("el-option",{attrs:{label:"微信",value:"0"}}),r("el-option",{attrs:{label:"支付宝",value:"1"}}),r("el-option",{attrs:{label:"银行转账",value:"2"}})],1)],1)],1)]:e._e(),r("el-col",{attrs:{span:6}},[r("el-form-item",{attrs:{label:"点赞（评论URL)",prop:"reviewUrl"}},[r("el-input",{model:{value:e.product.reviewUrl,callback:function(t){e.$set(e.product,"reviewUrl",t)},expression:"product.reviewUrl"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"下单要求",placeholder:"此备注是卖家下单的要求,给放单人员看",prop:"xdReamrk"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.product.xdReamrk,callback:function(t){e.$set(e.product,"xdReamrk",t)},expression:"product.xdReamrk"}})],1)],1),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"备注",prop:"remark",placeholder:"此备注是该产品录入自己的备注,给自己看"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.product.remark,callback:function(t){e.$set(e.product,"remark",t)},expression:"product.remark"}})],1)],1),0==e.newDataObj.state?r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"财务备注",prop:"cwRemark",placeholder:"此备注给审核财务看的"}},[r("el-input",{attrs:{type:"textarea"},model:{value:e.product.cwRemark,callback:function(t){e.$set(e.product,"cwRemark",t)},expression:"product.cwRemark"}})],1)],1):e._e(),r("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[r("el-form-item",[r("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.submitForm("product")}}},[e._v("立即创建")]),r("el-button",{on:{click:function(t){return e.resetForm("product")}}},[e._v("重置")])],1)],1)],2)],1)},a=[],s=r("5ecc"),l=s["a"],i=r("2877"),c=Object(i["a"])(l,o,a,!1,null,null,null);t["default"]=c.exports},"5ecc":function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("caad"),core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_includes__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("b680"),core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_number_to_fixed__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("2532"),core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_string_includes__WEBPACK_IMPORTED_MODULE_2__);__webpack_exports__["a"]={props:{orderno:String,dataObj:{type:Object,default:new Object}},data:function(){return{product:{title:"",stornName:"",brand:"",asin:"",url:"",imgUrl:"",keyword:"",keywordPage:"",code:"",price:"",lpnum:"",mpnum:"",pp:"",commission:"",ytotalPrice:"",stotalPrice:"",channel:"",reviewUrl:"",xdReamrk:"",remark:"",cwRemark:""},productRule:{title:[{required:!0,message:"请输入产品标题",trigger:"blur"}],stornName:[{required:!0,message:"请输入店铺名称",trigger:"blur"}],brand:[{required:!0,message:"请输入品牌名称",trigger:"blur"}],asin:[{required:!0,message:"请输入ASIN",trigger:"blur"}],url:[{required:!0,message:"请输入产品链接",trigger:"blur"}],imgUrl:[{required:!0,message:"请输入产品图片链接",trigger:"blur"},{pattern:/\.(png|jpg|gif|jpeg)$/,message:"图片格式不正确"}],keywordPage:[{type:"number",message:"关键词行数必须为数字值"}],price:[{required:!0,message:"请输入产品客单价",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"请产品客单价必须为数字"}],lpnum:[{required:!0,message:"请输入留评单数",trigger:"blur"},{type:"number",message:"留评单数必须为数字"}],mpnum:[{required:!0,message:"请输入免评单数",trigger:"blur"},{type:"number",message:"免评单数必须为数字"}],pp:[{required:!0,message:"请输入商品费+PP费",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"商品费+PP费输入必须为数字"}],commission:[{required:!0,message:"请输入佣金",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"佣金必须为数字"}],ytotalPrice:[{required:!0,message:"请输入应收款金额",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"应收款金额必须为数字"}],stotalPrice:[{required:!0,message:"请输入实收款金额",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"实收款金额必须为数字"}],channel:[{required:!0,message:"请选择收款渠道",trigger:"change"}]},newDataObj:{},newOrderNo:"",btnLoading:!1}},mounted:function(){this.newDataObj=this.dataObj,this.newOrderNo=this.orderno,""!=this.newOrderNo&&this.getProductInfo()},methods:{total:function total(){if(""!=!isNaN(this.product.mpnum)&&""!=!isNaN(this.product.lpnum)&&""!=this.product.pp&&""!=this.product.commission&&this.newDataObj.rate){var totalPrice=(eval(this.product.mpnum)+eval(this.product.lpnum))*eval(this.product.pp)*eval(this.newDataObj.rate)+eval(this.product.commission);this.product.ytotalPrice=totalPrice.toFixed(2)}},submitForm:function submitForm(product){var _this=this;this.$refs[product].validate((function(valid){return!!valid&&(""!=_this.product.KeyWord&&(_this.product.keyword.includes("“")||_this.product.keyword.includes('"'))?(_this.$message({type:"warning",message:"关键词不能用双引号"}),!1):(_this.btnLoading=!0,void _this.axios.get("/Handler/CPManageSystem.ashx?cmd=addProduct",{params:{orderno:_this.newDataObj.orderno,cporderno:_this.newOrderNo,rate:_this.newDataObj.rate,state:_this.newDataObj.state,realtotalmoney:_this.product.stotalPrice,sktype:_this.product.channel.value,cwremark:_this.product.cwRemark,KeyWord:_this.product.keyword,KeyWordPage:_this.product.keywordPage?_this.product.keywordPage:"",CouponCode:_this.product.code,HelpFulUrl:_this.product.reviewUrl,producttype:0,lpnum:eval(_this.product.lpnum),mpnum:eval(_this.product.mpnum),cpyj:eval(_this.product.commission),remark:_this.product.remark,xdyq:_this.product.xdReamrk,productdj:eval(_this.product.price),ProductPPMoney:eval(_this.product.pp),sktotalmoney:eval(_this.product.ytotalPrice),Asin:_this.product.asin,ProductTitle:_this.product.title,StoreName:_this.product.stornName,Brand:_this.product.brand,ProductUrl:_this.product.url,ProductImgUrl:_this.product.imgUrl}}).then((function(e){var t="";t=""==_this.newOrderNo?"创建":"编辑",e.data.rescode>0?(_this.$message({type:"success",message:t+"成功!"}),_this.resetForm(),_this.$emit("dialogToggle")):_this.$message({type:"warning",message:e.data.resdesc}),_this.btnLoading=!1})).catch((function(e){}))))}))},resetForm:function(){this.$refs.product.resetFields()},getProductInfo:function getProductInfo(){var _this2=this;this.axios.get("/Handler/CPManageSystem.ashx?cmd=getCPOrderInfo&orderno="+this.newOrderNo).then((function(res){""!=res.data?(_this2.product.title=res.data.ProductTitle,_this2.product.stornName=res.data.StoreName,_this2.product.brand=res.data.Brand,_this2.product.asin=res.data.Asin,_this2.product.url=res.data.ProductUrl,_this2.product.imgUrl=res.data.ProductImgUrl,_this2.product.keyword=res.data.KeyWord,_this2.product.keywordPage=eval(res.data.KeyWordPage),_this2.product.code=res.data.CouponCode,_this2.product.price=res.data.productdj,_this2.product.pp=res.data.ProductPPMoney,_this2.product.lpnum=res.data.lpnum,_this2.product.mpnum=res.data.mpnum,_this2.product.commission=res.data.cpyj,_this2.product.ytotalPrice=res.data.sktotalmoney,_this2.product.stotalPrice=res.data.realsktotalmoney,_this2.product.reviewUrl=res.data.HelpFulUrl,_this2.product.xdReamrk=res.data.xdyq,_this2.product.remark=res.data.remark):_this2.resetForm()})).catch((function(e){}))}},watch:{dataObj:function(e,t){this.newDataObj=e,this.total()},orderno:function(e,t){this.newOrderNo=e,""!=this.newOrderNo?this.getProductInfo():this.resetForm()}}}},b680:function(e,t,r){"use strict";var o=r("23e7"),a=r("a691"),s=r("408a"),l=r("1148"),i=r("d039"),c=1..toFixed,n=Math.floor,u=function(e,t,r){return 0===t?r:t%2===1?u(e,t-1,r*e):u(e*e,t/2,r)},d=function(e){var t=0,r=e;while(r>=4096)t+=12,r/=4096;while(r>=2)t+=1,r/=2;return t},p=c&&("0.000"!==8e-5.toFixed(3)||"1"!==.9.toFixed(0)||"1.25"!==1.255.toFixed(2)||"1000000000000000128"!==(0xde0b6b3a7640080).toFixed(0))||!i((function(){c.call({})}));o({target:"Number",proto:!0,forced:p},{toFixed:function(e){var t,r,o,i,c=s(this),p=a(e),m=[0,0,0,0,0,0],_="",h="0",b=function(e,t){var r=-1,o=t;while(++r<6)o+=e*m[r],m[r]=o%1e7,o=n(o/1e7)},g=function(e){var t=6,r=0;while(--t>=0)r+=m[t],m[t]=n(r/e),r=r%e*1e7},f=function(){var e=6,t="";while(--e>=0)if(""!==t||0===e||0!==m[e]){var r=String(m[e]);t=""===t?r:t+l.call("0",7-r.length)+r}return t};if(p<0||p>20)throw RangeError("Incorrect fraction digits");if(c!=c)return"NaN";if(c<=-1e21||c>=1e21)return String(c);if(c<0&&(_="-",c=-c),c>1e-21)if(t=d(c*u(2,69,1))-69,r=t<0?c*u(2,-t,1):c/u(2,t,1),r*=4503599627370496,t=52-t,t>0){b(0,r),o=p;while(o>=7)b(1e7,0),o-=7;b(u(10,o,1),0),o=t-1;while(o>=23)g(1<<23),o-=23;g(1<<o),b(1,1),g(2),h=f()}else b(0,r),b(1<<-t,0),h=f()+l.call("0",p);return p>0?(i=h.length,h=_+(i<=p?"0."+l.call("0",p-i)+h:h.slice(0,i-p)+"."+h.slice(i-p))):h=_+h,h}})},caad:function(e,t,r){"use strict";var o=r("23e7"),a=r("4d64").includes,s=r("44d2"),l=r("ae40"),i=l("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:!i},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),s("includes")}}]);
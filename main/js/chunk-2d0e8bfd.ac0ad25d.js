(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0e8bfd"],{"8b30":function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("el-form",{ref:"user",attrs:{model:e.user,"label-width":"80px","label-position":"top"}},[a("el-row",{attrs:{gutter:20}},[a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"姓",prop:"firstname"}},[a("el-input",{model:{value:e.user.firstname,callback:function(t){e.$set(e.user,"firstname","string"===typeof t?t.trim():t)},expression:"user.firstname"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"名",prop:"lastname"}},[a("el-input",{model:{value:e.user.lastname,callback:function(t){e.$set(e.user,"lastname","string"===typeof t?t.trim():t)},expression:"user.lastname"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"邮箱",prop:"email"}},[a("el-input",{attrs:{type:"email"},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"国家",prop:"country"}},[a("el-select",{model:{value:e.user.country,callback:function(t){e.$set(e.user,"country",t)},expression:"user.country"}},[a("el-option",{attrs:{label:"美国",value:"美国"}}),a("el-option",{attrs:{label:"加拿大",value:"加拿大"}}),a("el-option",{attrs:{label:"墨西哥",value:"墨西哥"}}),a("el-option",{attrs:{label:"英国",value:"英国"}}),a("el-option",{attrs:{label:"法国",value:"法国"}}),a("el-option",{attrs:{label:"德国",value:"德国"}}),a("el-option",{attrs:{label:"意大利",value:"意大利"}}),a("el-option",{attrs:{label:"西班牙",value:"西班牙"}}),a("el-option",{attrs:{label:"日本",value:"日本"}}),a("el-option",{attrs:{label:"澳大利亚",value:"澳大利亚"}}),a("el-option",{attrs:{label:"印度",value:"印度"}})],1)],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"亚马逊页面",prop:"amazonpage"}},[a("el-input",{model:{value:e.user.amazonpage,callback:function(t){e.$set(e.user,"amazonpage","string"===typeof t?t.trim():t)},expression:"user.amazonpage"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"FB页面链接",prop:"fbpage"}},[a("el-input",{model:{value:e.user.fbpage,callback:function(t){e.$set(e.user,"fbpage","string"===typeof t?t.trim():t)},expression:"user.fbpage"}})],1)],1),a("el-col",{attrs:{span:12}},[a("el-form-item",{attrs:{label:"微信ID",prop:"weixin"}},[a("el-input",{model:{value:e.user.weixin,callback:function(t){e.$set(e.user,"weixin","string"===typeof t?t.trim():t)},expression:"user.weixin"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"备注",prop:"remark"}},[a("el-input",{attrs:{type:"textarea"},model:{value:e.user.remark,callback:function(t){e.$set(e.user,"remark","string"===typeof t?t.trim():t)},expression:"user.remark"}})],1)],1),a("el-col",{attrs:{span:24}},[a("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(t){return e.submitForm("user")}}},[e._v("提交")])],1)],1)],1)},r=[],n=(a("b64b"),{name:"BlackUser",props:{userInfo:{type:Object,default:new Object}},data:function(){return{user:{firstname:"",lastname:"",email:"",country:"美国",amazonpage:"",fbpage:"",weixin:"",remark:""},newUserInfo:"",btnLoading:!1,rid:0}},mounted:function(){this.newUserInfo=this.userInfo,0!=Object.keys(this.newUserInfo).length?this.editdata():this.rid=0},methods:{submitForm:function(e){var t=this;this.$refs[e].validate((function(e){if(!e)return!1;""==t.user.email&&""==t.user.fbpage&&""==t.user.weixin?t.$message({message:"邮箱/FB页面链接/微信ID三个必须要填写一个",type:"warning"}):(t.btnLoading=!0,0==t.rid?t.axios.get("/Handler/CPManageSystem.ashx?cmd=addCPHMD",{params:{firstname:t.user.firstname,lastname:t.user.lastname,email:t.user.email,country:t.user.country,amazonpage:t.user.amazonpage,fbpage:t.user.fbpage,weixin:t.user.weixin,remark:t.user.remark}}).then((function(e){1==e.data.rescode?(t.$message({type:"success",message:"添加成功"}),t.resetForm(),t.$emit("dialogToggle")):t.$message({type:"warning",message:e.data.resdesc}),t.btnLoading=!1})).catch((function(e){t.$message({type:"warning",message:"添加失败"}),t.btnLoading=!1})):t.axios.get("/Handler/CPManageSystem.ashx?cmd=editCPHMD",{params:{rid:t.rid,firstname:t.user.firstname,lastname:t.user.lastname,email:t.user.email,country:t.user.country,amazonpage:t.user.amazonpage,fbpage:t.user.fbpage,weixin:t.user.weixin,remark:t.user.remark}}).then((function(e){1==e.data.rescode?(t.$message({type:"success",message:"编辑成功"}),t.resetForm(),t.rid=0,t.$emit("dialogToggle")):t.$message({type:"warning",message:e.data.resdesc}),t.btnLoading=!1})).catch((function(e){t.$message({type:"warning",message:"编辑失败"}),t.btnLoading=!1})))}))},resetForm:function(){this.$refs.user.resetFields()},editdata:function(){this.user.firstname=this.newUserInfo.firstname,this.user.lastname=this.newUserInfo.lastname,this.user.email=this.newUserInfo.email,this.user.country=this.newUserInfo.country,this.user.amazonpage=this.newUserInfo.amazonpage,this.user.fbpage=this.newUserInfo.fbpage,this.user.weixin=this.newUserInfo.weixin,this.user.remark=this.newUserInfo.remark,this.rid=this.newUserInfo.rid}},watch:{userInfo:function(e,t){this.newUserInfo=e,0!=Object.keys(this.newUserInfo).length?this.editdata():this.rid=0}}}),i=n,l=a("2877"),o=Object(l["a"])(i,s,r,!1,null,null,null);t["default"]=o.exports}}]);
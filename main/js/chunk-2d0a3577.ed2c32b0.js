(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0a3577"],{"0287":function(e,r,o){"use strict";o.r(r);var t=function(){var e=this,r=e.$createElement,o=e._self._c||r;return o("el-form",{ref:"order",attrs:{model:e.order,rules:e.orderRule,"label-width":"80px","label-position":"top"}},[o("el-form-item",{attrs:{label:"收款方式",prop:"channel"}},[o("el-select",{staticStyle:{width:"100%"},attrs:{placeholder:"请选择收款方式"},model:{value:e.order.channel,callback:function(r){e.$set(e.order,"channel",r)},expression:"order.channel"}},[o("el-option",{attrs:{label:"微信",value:"0"}}),o("el-option",{attrs:{label:"支付宝",value:"1"}}),o("el-option",{attrs:{label:"银行转账",value:"2"}})],1)],1),o("el-form-item",{attrs:{label:"收款金额(人民币)",prop:"money"}},[o("el-input",{model:{value:e.order.money,callback:function(r){e.$set(e.order,"money",r)},expression:"order.money"}})],1),o("el-form-item",{attrs:{label:"备注",prop:"remark"}},[o("el-input",{model:{value:e.order.remark,callback:function(r){e.$set(e.order,"remark",r)},expression:"order.remark"}})],1),o("el-form-item",[o("el-button",{attrs:{type:"primary",loading:e.btnloading},on:{click:function(r){return e.submitForm("order")}}},[e._v("提交")])],1)],1)},n=[],a={name:"AddPayment",props:{orderno:{type:String,default:""}},data:function(){return{toporderno:"",order:{channel:"",money:"",remark:""},orderRule:{channel:[{required:!0,message:"请选择收款方式",trigger:"change"}],money:[{required:!0,message:"请输入实收款金额",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"实收款金额必须为数字",trigger:"blur"}]},btnloading:!1}},mounted:function(){this.toporderno=this.orderno},methods:{submitForm:function(e){var r=this;this.$refs[e].validate((function(e){e&&(r.btnloading=!0,r.axios.get("/Handler/CPManageSystem.ashx?cmd=comitPayTopOrderMoney",{params:{toporderno:r.toporderno,sktype:r.order.channel,remark:r.order.remark,ordermoney:r.order.money}}).then((function(e){e.data.rescode>0?(r.$message({type:"success",message:"成功提交给财务审核"}),r.$emit("dialogToggle"),r.resetForm()):r.$message({type:"warning",message:e.data.resdesc}),r.btnLoading=!1})).catch((function(e){r.$message({type:"warning",message:"提交失败"}),r.btnLoading=!1})))}))},resetForm:function(){this.$refs.order.resetFields()}},watch:{orderno:function(e,r){this.toporderno=e}}},l=a,s=o("2877"),d=Object(s["a"])(l,t,n,!1,null,null,null);r["default"]=d.exports}}]);
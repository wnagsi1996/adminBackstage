(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d225c31"],{e67a:function(e,s,t){"use strict";t.r(s);var l=function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("el-form",{ref:"loss",attrs:{model:e.loss,rules:e.lossRule,"label-width":"80px","label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"人员",prop:"user"}},[t("el-select",{attrs:{placeholder:""},model:{value:e.loss.user,callback:function(s){e.$set(e.loss,"user",s)},expression:"loss.user"}},e._l(e.newuserList,(function(e){return t("el-option",{key:e.userid,attrs:{label:e.username,value:e.userid}})})),1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"损失选择",prop:"loss"}},[t("el-select",{attrs:{placeholder:""},model:{value:e.loss.loss,callback:function(s){e.$set(e.loss,"loss",s)},expression:"loss.loss"}},[t("el-option",{attrs:{label:"损失金额",value:"0"}}),t("el-option",{attrs:{label:"追回损失",value:"1"}})],1)],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"损失金额",prop:"money"}},[t("el-input",{model:{value:e.loss.money,callback:function(s){e.$set(e.loss,"money",s)},expression:"loss.money"}})],1)],1),t("el-col",{attrs:{span:24}},[t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{attrs:{type:"textarea"},model:{value:e.loss.remark,callback:function(s){e.$set(e.loss,"remark",s)},expression:"loss.remark"}})],1)],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(s){return e.submitForm("loss")}}},[e._v("提交")])],1)],1)],1)},r=[],o={name:"AddLoss",props:{userList:{type:Array,default:new Array}},data:function(){return{loss:{user:"",loss:"",money:"",remark:""},lossRule:{user:[{required:!0,message:"请选择人员",trigger:"change"}],loss:[{required:!0,message:"请选择损失",trigger:"change"}],money:[{required:!0,message:"请输入损失金额",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"损失金额必须为数字"}]},btnLoading:!1,newuserList:[]}},mounted:function(){this.newuserList=this.userList},methods:{submitForm:function(e){var s=this;this.$refs[e].validate((function(e){e&&(s.btnLoading=!0,s.axios.post("/Handler/CPManageSystem.ashx",s.qs.stringify({cmd:"addUserOutMoney",userid:s.loss.user,outmoney:s.loss.money,remark:s.loss.remark,outtype:s.loss.loss})).then((function(e){e.data>0?(s.$message({type:"success",message:"添加成功"}),s.$emit("dialogToggle"),s.resetForm()):s.$message({type:"warning",message:"添加失败"}),s.btnLoading=!1})).catch((function(e){})))}))},resetForm:function(){this.$refs.loss.resetFields()}}},a=o,n=t("2877"),i=Object(n["a"])(a,l,r,!1,null,null,null);s["default"]=i.exports}}]);
(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3a3ea127","chunk-31777e0e"],{1035:function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("el-form",{ref:"order",attrs:{model:e.order,rules:e.orderRule,"label-width":"80px","label-position":"top"}},[t("el-row",{attrs:{gutter:20}},[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"刷手邮箱或微信号",prop:"userinfo"}},[t("el-input",{model:{value:e.order.userinfo,callback:function(r){e.$set(e.order,"userinfo",r)},expression:"order.userinfo"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"购买单号",prop:"xdorderno"}},[t("el-input",{model:{value:e.order.xdorderno,callback:function(r){e.$set(e.order,"xdorderno",r)},expression:"order.xdorderno"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"购买价格",prop:"price"}},[t("el-input",{model:{value:e.order.price,callback:function(r){e.$set(e.order,"price",r)},expression:"order.price"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"下单时间",prop:"date"}},[t("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"开始时间"},model:{value:e.order.date,callback:function(r){e.$set(e.order,"date",r)},expression:"order.date"}})],1)],1),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"备注",prop:"remark"}},[t("el-input",{model:{value:e.order.remark,callback:function(r){e.$set(e.order,"remark",r)},expression:"order.remark"}})],1)],1),t("el-col",{staticStyle:{"text-align":"center"},attrs:{span:24}},[t("el-form-item",[t("el-button",{attrs:{type:"primary",loading:e.btnLoading},on:{click:function(r){return e.submitForm("order")}}},[e._v("提交")])],1)],1)],1)],1)},o=[],i=t("404a"),n={name:"BackOrder",components:{PaseImage:i["default"]},props:{orderno:{type:String,default:""}},data:function(){return{order:{userinfo:"",xdorderno:"",price:"",date:"",remark:""},orderRule:{userinfo:[{required:!0,message:"请输入刷手邮箱或微信号",trigger:"blur"}],xdorderno:[{required:!0,message:"请输入购买单号",trigger:"blur"}],price:[{required:!0,message:"请输入应退产品费金额",trigger:"blur"},{pattern:/^\d+(\.\d+)?$/,message:"应退产品费金额必须为数字"}]},neworderno:"",btnLoading:!1,ordertype:0}},mounted:function(){this.neworderno=this.orderno,this.getOrderInfo()},methods:{getOrderInfo:function(){var e=this;this.loading=!0,this.axios.get("/Handler/CPManageSystem.ashx?cmd=getCPOrderDetailXDInfo&orderno="+this.neworderno).then((function(r){""!=r.data?(e.order.userinfo=r.data.fklxfs,e.order.xdorderno=r.data.xdOrderno,e.order.price=r.data.realproductdj,e.order.date=r.data.realxddate,e.order.remark=r.data.fkremark,e.loading=!1):e.resetForm()})).catch((function(e){}))},submitForm:function(e){var r=this;this.$refs[e].validate((function(e){e&&(r.btnLoading=!0,r.axios.post("/Handler/CPManageSystem.ashx",r.qs.stringify({cmd:"setCPOrderDetailXDInfo",orderno:r.neworderno,useremail:r.order.userinfo,xdOrderno:r.order.xdorderno,fkaccount:"",fkremark:r.order.remark,realxddate:r.order.date,realproductdj:r.order.price,fktype:0,_img64:""})).then((function(e){e.data.rescode>0?(r.$message({type:"success",message:e.data.resdesc}),r.$emit("dialogToggle"),r.resetForm()):r.$message({type:"warning",message:e.data.resdesc}),r.btnLoading=!1})).catch((function(e){})))}))},resetForm:function(){this.$refs.order.resetFields()}},watch:{orderno:function(e,r){this.neworderno=e,this.getOrderInfo()}}},s=n,d=t("2877"),l=Object(d["a"])(s,a,o,!1,null,null,null);r["default"]=l.exports},"404a":function(e,r,t){"use strict";t.r(r);var a=function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",[t("div",{staticClass:"copyimg"},[t("span",{directives:[{name:"show",rawName:"v-show",value:""==e.imagesrc,expression:"imagesrc==''"}]},[e._v("图片粘贴区")]),t("img",{staticClass:"copyimg-img",class:e.imgwidth?"widthauto":"heightauto",attrs:{id:"codeimg",src:e.imagesrc},on:{load:e.loadimg}})]),t("div",{staticClass:"clear-img"},[t("el-button",{attrs:{type:"text"},on:{click:e.empty}},[e._v("清空")])],1)])},o=[],i=(t("c975"),{name:"PaseImage",props:{imgsrc:{type:String,default:""}},data:function(){return{imagesrc:"",imgwidth:!0}},mounted:function(){this.imagesrc=this.imgsrc,this.setPasteImg("codeimg")},methods:{setPasteImg:function(e){var r="";document.addEventListener("paste",(function(t){if(t.clipboardData||t.originalEvent){var a=t.clipboardData||t.originalEvent.clipboardData;if(a.items){for(var o,i=0;i<a.items.length;i++)-1!==a.items[i].type.indexOf("image")&&(o=a.items[i].getAsFile());var n=new FileReader;n.onload=function(t){r=t.target.result,document.getElementById(e).setAttribute("src",r)},n.readAsDataURL(o)}}}))},loadimg:function(e){e.path[0].clientHeight>e.path[0].clientWidth?this.imgwidth=!0:this.imgwidth=!1,this.imagesrc=document.getElementById("codeimg").getAttribute("src"),this.$emit("getImgSrc",this.imagesrc)},empty:function(){this.imagesrc="",this.$emit("getImgSrc",this.imagesrc)}},watch:{imgsrc:function(e,r){this.imagesrc=e}}}),n=i,s=(t("ae37"),t("2877")),d=Object(s["a"])(n,a,o,!1,null,null,null);r["default"]=d.exports},6689:function(e,r,t){},ae37:function(e,r,t){"use strict";var a=t("6689"),o=t.n(a);o.a}}]);